

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting Started &mdash; ASPIRE 0.5.22 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ASPIRE
          

          
          </a>

          
            
            
              <div class="version">
                0.5.22
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#particle-picking">1. Particle-Picking</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulation">2. Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reconstructing-a-mean-volume-with-covariance">3. Reconstructing a mean volume with covariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#crop-a-set-of-projections">4. Crop a set of projections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arguments-options-and-flags">Arguments, options and flags</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ASPIRE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Getting Started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>After installing ASPIRE, the module can be invoked as a script, allowing you to perform several actions on a stack of
CRYO projections (MRC files).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python -m aspire &lt;command&gt;</span>
</pre></div>
</div>
<p>Running the <code class="docutils literal notranslate"><span class="pre">aspire</span></code> module as a script allows one to run different stages of the Cryo-EM data pipeline.
Substitute <code class="docutils literal notranslate"><span class="pre">&lt;command&gt;</span></code> with one of the available <code class="docutils literal notranslate"><span class="pre">aspire</span></code> commands. Use the <code class="docutils literal notranslate"><span class="pre">-h</span></code> flag to display all available commands.</p>
<p>Currently, the following operations can be run with ASPIRE:</p>
<div class="section" id="particle-picking">
<h2>1. Particle-Picking<a class="headerlink" href="#particle-picking" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">apple</span></code> command takes in a folder of one or more <code class="docutils literal notranslate"><span class="pre">*.mrc</span></code> files, picks particles using the Apple-Picker algorithm described at
<a class="bibtex reference internal" href="#dblp-journals-corr-abs-1802-00469" id="id1">[HAndenS18]</a>, and generates <code class="docutils literal notranslate"><span class="pre">*.star</span></code> files, one for each <code class="docutils literal notranslate"><span class="pre">*.mrc</span></code> file processed, at an output folder location.</p>
<p>For example, to run the command on sample data included in ASPIRE (a single <code class="docutils literal notranslate"><span class="pre">sample.mrc</span></code> file provided from the 5.3 GB
<a class="reference external" href="https://www.ebi.ac.uk/pdbe/emdb/empiar/entry/10017/">Beta-galactosidase Falcon-II micrographs EMPIAR dataset</a>) and save results to a
<code class="docutils literal notranslate"><span class="pre">particles</span></code> folder:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mkdir apple_output</span>
<span class="go">python -m aspire apple --mrc_file /path/to/aspire/data/sample.mrc --output_dir particles</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">--help</span></code> argument with the command to see the several options associated with this command.</p>
</div>
<div class="section" id="simulation">
<h2>2. Simulation<a class="headerlink" href="#simulation" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">simulation</span></code> command simulates a virtual particle made up of multiple gaussian blobs, generates of set of (noisy) images,
runs the ASPIRE pipeline to determine the estimated mean volume and estimated covariance on the mean volume,
and runs evaluations on these estimated quantities (against the <cite>true</cite> values which we know from the simulation).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python -m aspire simulation</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">--help</span></code> argument to look for configurable options. You can select the no. of distinct gaussian blobs, the no. of images,
the resolution of the (square) images generated etc.</p>
</div>
<div class="section" id="reconstructing-a-mean-volume-with-covariance">
<h2>3. Reconstructing a mean volume with covariance<a class="headerlink" href="#reconstructing-a-mean-volume-with-covariance" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">cov3d</span></code> command takes in a <code class="docutils literal notranslate"><span class="pre">*.star</span></code> file, processes the images (<code class="docutils literal notranslate"><span class="pre">*.mrcs</span></code> files) found in the starfile, and runs the ASPIRE pipeline
to determine the estimated mean volume and estimated covariance on the mean volume. No results are saved currently, but this command is
a good way to exercise most parts of the ASPIRE pipeline.</p>
<p>For example, to run the command on a sample data included in ASPIRE:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python -m aspire cov3d --starfile /path/to/aspire/data/sample_relion_data.star --pixel_size 1.338 --max_resolution 8 --cg_tol 0.2</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pay special attention to the flags specified in the example above. The <code class="docutils literal notranslate"><span class="pre">--max_resolution</span> <span class="pre">8</span></code>
flag down-samples images to 8x8 pixels (needed otherwise you may run out of memory, and/or the script may take way
too long to execute). <code class="docutils literal notranslate"><span class="pre">--cg_tol</span> <span class="pre">0.2</span></code> sets very liberal (and unrealistic) limits on optimization convergence
tolerance, which is needed for such a small dataset. For real datasets, you typically <em>do not</em> want to override this
parameter.</p>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">--help</span></code> argument to look for configurable options.</p>
</div>
<div class="section" id="crop-a-set-of-projections">
<h2>4. Crop a set of projections<a class="headerlink" href="#crop-a-set-of-projections" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">crop</span></code> command crops a stack of projections of an mrc file to squares of a given size (in pixels). For example,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python -m aspire --debug -v 3 crop demo.mrc 42</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will crop images found in <cite>demo.mrc</cite> to images of size 42x42, in debug mode and with maximum verbosity.</p>
</div>
<div class="section" id="arguments-options-and-flags">
<h3>Arguments, options and flags<a class="headerlink" href="#arguments-options-and-flags" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl class="simple">
<dt><strong>Arguments</strong> are mandatory inputs.</dt><dd><p>For example, when running ‘compare’ command, you must provide 2 MRC files to compare.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Options</strong> are, like their name suggests, optional inputs.</dt><dd><p>For example, <code class="docutils literal notranslate"><span class="pre">aspire</span></code> accepts option ‘<em>-v 2</em>’ for setting verbosity level to 2.
All options have a default value set for them.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>Flags</strong> are optional values which tells Aspire to activate/deactivate certain behaviour.</dt><dd><div class="line-block">
<div class="line">A good example would be ‘<em>--debug</em>’.</div>
<div class="line">All flags also have a default value pre-set for them, ‘<em>--no-debug</em>’ in case of the <em>debug</em> flag.</div>
</div>
</dd>
</dl>
</li>
</ul>
<p>Aspire CLI is built in levels. A level is basically a command which can
be followed by another command. The most basic command is <code class="docutils literal notranslate"><span class="pre">aspire</span></code>
itself, the base layer. It accepts its own flags such as ‘<em>--help</em>’,
‘<em>--debug</em>’ or ‘<em>-v N</em>’. Each of those optional flags will be directed into the <strong>preceding</strong> level.</p>
<p>Then we can call <code class="docutils literal notranslate"><span class="pre">aspire</span></code> with a command such as <code class="docutils literal notranslate"><span class="pre">compare</span></code>, and
provide another layer of arguments, options and flags. For example, in case of <code class="docutils literal notranslate"><span class="pre">compare</span></code> these can be:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> python -m aspire -v <span class="m">2</span> --debug compare  a.mrc  b.mrc --max-error<span class="o">=</span><span class="m">0</span>.123
</pre></div>
</div>
<p id="bibtex-bibliography-quickstart-0"><dl class="citation">
<dt class="bibtex label" id="dblp-journals-corr-abs-1802-00469"><span class="brackets"><a class="fn-backref" href="#id1">HAndenS18</a></span></dt>
<dd><p>Ayelet Heimowitz, Joakim Andén, and Amit Singer. APPLE picker: automatic particle picking, a low-effort cryo-em framework. <em>CoRR</em>, 2018. URL: <a class="reference external" href="http://arxiv.org/abs/1802.00469">http://arxiv.org/abs/1802.00469</a>, <a class="reference external" href="https://arxiv.org/abs/1802.00469">arXiv:1802.00469</a>.</p>
</dd>
</dl>
</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules.html" class="btn btn-neutral float-right" title="Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Princeton University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>